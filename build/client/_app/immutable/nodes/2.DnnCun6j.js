import{s as me,n as ne,r as le,o as be,d as oe}from"../chunks/scheduler.D3aZ0wum.js";import{S as Ce,i as ke,e as _,s as j,m as ae,c as v,d as S,n as W,h as I,g as b,o as h,j as Y,k as n,p as K,q as se,b as F,f as J,l as Z,r as Q,u as te,v as re}from"../chunks/index.BjELp4DP.js";function $(l){return(l==null?void 0:l.length)!==void 0?l:Array.from(l)}function ie(l,t,e){const s=l.slice();return s[25]=t[e],s}function ce(l,t,e){const s=l.slice();return s[25]=t[e],s}function ue(l,t,e){const s=l.slice();return s[25]=t[e],s[31]=e,s}function we(l){let t=l[31]+1+"",e;return{c(){e=F(t)},l(s){e=J(s,t)},m(s,T){Y(s,e,T)},d(s){s&&b(e)}}}function ze(l){let t;return{c(){t=F("ðŸ¥‰")},l(e){t=J(e,"ðŸ¥‰")},m(e,s){Y(e,t,s)},d(e){e&&b(t)}}}function Te(l){let t;return{c(){t=F("ðŸ¥ˆ")},l(e){t=J(e,"ðŸ¥ˆ")},m(e,s){Y(e,t,s)},d(e){e&&b(t)}}}function Ee(l){let t;return{c(){t=F("ðŸ¥‡")},l(e){t=J(e,"ðŸ¥‡")},m(e,s){Y(e,t,s)},d(e){e&&b(t)}}}function fe(l){let t,e,s,T,d=l[25].name+"",a,V,g,k=l[25].points+"",E,A,m,O=l[25].numberOfGames+"",G,B,u,C=(Math.ceil(l[25].points/l[25].numberOfGames)||0)+"",P,L,y,D,M="x",q,U,z;function N(w,r){return w[31]===0?Ee:w[31]===1?Te:w[31]===2?ze:we}let p=N(l)(l);function o(){return l[13](l[25])}return{c(){t=_("tr"),e=_("td"),p.c(),s=j(),T=_("td"),a=F(d),V=j(),g=_("td"),E=F(k),A=j(),m=_("td"),G=F(O),B=j(),u=_("td"),P=F(C),L=j(),y=_("td"),D=_("button"),D.textContent=M,q=j(),this.h()},l(w){t=v(w,"TR",{class:!0});var r=S(t);e=v(r,"TD",{class:!0});var f=S(e);p.l(f),f.forEach(b),s=I(r),T=v(r,"TD",{class:!0});var H=S(T);a=J(H,d),H.forEach(b),V=I(r),g=v(r,"TD",{class:!0});var i=S(g);E=J(i,k),i.forEach(b),A=I(r),m=v(r,"TD",{class:!0});var R=S(m);G=J(R,O),R.forEach(b),B=I(r),u=v(r,"TD",{class:!0});var x=S(u);P=J(x,C),x.forEach(b),L=I(r),y=v(r,"TD",{class:!0});var ee=S(y);D=v(ee,"BUTTON",{"data-svelte-h":!0}),W(D)!=="svelte-o5fws2"&&(D.textContent=M),ee.forEach(b),q=I(r),r.forEach(b),this.h()},h(){h(e,"class","svelte-ez387l"),h(T,"class","svelte-ez387l"),h(g,"class","svelte-ez387l"),h(m,"class","svelte-ez387l"),h(u,"class","svelte-ez387l"),h(y,"class","svelte-ez387l"),h(t,"class","svelte-ez387l")},m(w,r){Y(w,t,r),n(t,e),p.m(e,null),n(t,s),n(t,T),n(T,a),n(t,V),n(t,g),n(g,E),n(t,A),n(t,m),n(m,G),n(t,B),n(t,u),n(u,P),n(t,L),n(t,y),n(y,D),n(t,q),U||(z=K(D,"click",o),U=!0)},p(w,r){l=w,r[0]&1&&d!==(d=l[25].name+"")&&Z(a,d),r[0]&1&&k!==(k=l[25].points+"")&&Z(E,k),r[0]&1&&O!==(O=l[25].numberOfGames+"")&&Z(G,O),r[0]&1&&C!==(C=(Math.ceil(l[25].points/l[25].numberOfGames)||0)+"")&&Z(P,C)},d(w){w&&b(t),p.d(),U=!1,z()}}}function de(l){let t,e,s,T="Naam nieuwe speler",d,a,V,g,k,E,A,m,O="Sluiten",G,B;return{c(){t=_("div"),e=_("div"),s=_("h2"),s.textContent=T,d=j(),a=_("input"),V=j(),g=_("button"),k=F("Voeg speler toe"),A=j(),m=_("button"),m.textContent=O,this.h()},l(u){t=v(u,"DIV",{class:!0});var C=S(t);e=v(C,"DIV",{class:!0});var P=S(e);s=v(P,"H2",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-1u39y5l"&&(s.textContent=T),d=I(P),a=v(P,"INPUT",{id:!0,placeholder:!0,type:!0,class:!0}),V=I(P),g=v(P,"BUTTON",{class:!0});var L=S(g);k=J(L,"Voeg speler toe"),L.forEach(b),A=I(P),m=v(P,"BUTTON",{class:!0,"data-svelte-h":!0}),W(m)!=="svelte-efuouy"&&(m.textContent=O),P.forEach(b),C.forEach(b),this.h()},h(){h(s,"class","svelte-ez387l"),h(a,"id","new-player-name"),h(a,"placeholder","Speler Naam"),h(a,"type","text"),h(a,"class","svelte-ez387l"),g.disabled=E=!l[3],h(g,"class","svelte-ez387l"),h(m,"class","cancel-button svelte-ez387l"),h(e,"class","popup svelte-ez387l"),h(t,"class","popup-overlay svelte-ez387l")},m(u,C){Y(u,t,C),n(t,e),n(e,s),n(e,d),n(e,a),Q(a,l[3]),n(e,V),n(e,g),n(g,k),n(e,A),n(e,m),G||(B=[K(a,"input",l[16]),K(g,"click",l[10]),K(m,"click",l[17])],G=!0)},p(u,C){C[0]&8&&a.value!==u[3]&&Q(a,u[3]),C[0]&8&&E!==(E=!u[3])&&(g.disabled=E)},d(u){u&&b(t),G=!1,le(B)}}}function he(l){let t,e,s,T="Uitslag laatste spel",d,a,V="Winner",g,k,E,A="Selecteer winnaar",m,O,G="Loser",B,u,C,P="Selecteer verliezer",L,y,D,M,q,U,z="Sluiten",N,c,p=$(l[0]),o=[];for(let f=0;f<p.length;f+=1)o[f]=_e(ce(l,p,f));let w=$(l[0]),r=[];for(let f=0;f<w.length;f+=1)r[f]=ve(ie(l,w,f));return{c(){t=_("div"),e=_("div"),s=_("h2"),s.textContent=T,d=j(),a=_("label"),a.textContent=V,g=j(),k=_("select"),E=_("option"),E.textContent=A;for(let f=0;f<o.length;f+=1)o[f].c();m=j(),O=_("label"),O.textContent=G,B=j(),u=_("select"),C=_("option"),C.textContent=P;for(let f=0;f<r.length;f+=1)r[f].c();L=j(),y=_("button"),D=F("Voeg score toe"),q=j(),U=_("button"),U.textContent=z,this.h()},l(f){t=v(f,"DIV",{class:!0});var H=S(t);e=v(H,"DIV",{class:!0});var i=S(e);s=v(i,"H2",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-2mu72j"&&(s.textContent=T),d=I(i),a=v(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(a)!=="svelte-1q78lc5"&&(a.textContent=V),g=I(i),k=v(i,"SELECT",{id:!0,class:!0});var R=S(k);E=v(R,"OPTION",{"data-svelte-h":!0}),W(E)!=="svelte-16uwe3o"&&(E.textContent=A);for(let X=0;X<o.length;X+=1)o[X].l(R);R.forEach(b),m=I(i),O=v(i,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(O)!=="svelte-76vg11"&&(O.textContent=G),B=I(i),u=v(i,"SELECT",{id:!0,class:!0});var x=S(u);C=v(x,"OPTION",{"data-svelte-h":!0}),W(C)!=="svelte-64fe4q"&&(C.textContent=P);for(let X=0;X<r.length;X+=1)r[X].l(x);x.forEach(b),L=I(i),y=v(i,"BUTTON",{class:!0});var ee=S(y);D=J(ee,"Voeg score toe"),ee.forEach(b),q=I(i),U=v(i,"BUTTON",{class:!0,"data-svelte-h":!0}),W(U)!=="svelte-14eejjt"&&(U.textContent=z),i.forEach(b),H.forEach(b),this.h()},h(){h(s,"class","svelte-ez387l"),h(a,"for","winner-select"),h(a,"class","svelte-ez387l"),E.__value="",Q(E,E.__value),h(k,"id","winner-select"),h(k,"class","svelte-ez387l"),l[5]===void 0&&oe(()=>l[18].call(k)),h(O,"for","loser-select"),h(O,"class","svelte-ez387l"),C.__value="",Q(C,C.__value),h(u,"id","loser-select"),h(u,"class","svelte-ez387l"),l[6]===void 0&&oe(()=>l[19].call(u)),y.disabled=M=!l[5]||!l[6],h(y,"class","svelte-ez387l"),h(U,"class","cancel-button svelte-ez387l"),h(e,"class","popup svelte-ez387l"),h(t,"class","popup-overlay svelte-ez387l")},m(f,H){Y(f,t,H),n(t,e),n(e,s),n(e,d),n(e,a),n(e,g),n(e,k),n(k,E);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(k,null);te(k,l[5],!0),n(e,m),n(e,O),n(e,B),n(e,u),n(u,C);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(u,null);te(u,l[6],!0),n(e,L),n(e,y),n(y,D),n(e,q),n(e,U),N||(c=[K(k,"change",l[18]),K(u,"change",l[19]),K(y,"click",updateScore),K(U,"click",l[20])],N=!0)},p(f,H){if(H[0]&1){p=$(f[0]);let i;for(i=0;i<p.length;i+=1){const R=ce(f,p,i);o[i]?o[i].p(R,H):(o[i]=_e(R),o[i].c(),o[i].m(k,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=p.length}if(H[0]&33&&te(k,f[5]),H[0]&1){w=$(f[0]);let i;for(i=0;i<w.length;i+=1){const R=ie(f,w,i);r[i]?r[i].p(R,H):(r[i]=ve(R),r[i].c(),r[i].m(u,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=w.length}H[0]&65&&te(u,f[6]),H[0]&97&&M!==(M=!f[5]||!f[6])&&(y.disabled=M)},d(f){f&&b(t),se(o,f),se(r,f),N=!1,le(c)}}}function _e(l){let t,e=l[25].name+"",s,T;return{c(){t=_("option"),s=F(e),this.h()},l(d){t=v(d,"OPTION",{});var a=S(t);s=J(a,e),a.forEach(b),this.h()},h(){t.__value=T=l[25].name,Q(t,t.__value)},m(d,a){Y(d,t,a),n(t,s)},p(d,a){a[0]&1&&e!==(e=d[25].name+"")&&Z(s,e),a[0]&1&&T!==(T=d[25].name)&&(t.__value=T,Q(t,t.__value))},d(d){d&&b(t)}}}function ve(l){let t,e=l[25].name+"",s,T;return{c(){t=_("option"),s=F(e),this.h()},l(d){t=v(d,"OPTION",{});var a=S(t);s=J(a,e),a.forEach(b),this.h()},h(){t.__value=T=l[25].name,Q(t,t.__value)},m(d,a){Y(d,t,a),n(t,s)},p(d,a){a[0]&1&&e!==(e=d[25].name+"")&&Z(s,e),a[0]&1&&T!==(T=d[25].name)&&(t.__value=T,Q(t,t.__value))},d(d){d&&b(t)}}}function pe(l){let t,e,s,T="Bevestig verwijdering",d,a,V,g=l[7].name+"",k,E,A,m,O="Wachtwoord:",G,B,u,C,P,L,y,D,M="Annuleer",q,U;return{c(){t=_("div"),e=_("div"),s=_("h2"),s.textContent=T,d=j(),a=_("p"),V=F("Weet je zeker dat je de speler "),k=F(g),E=F(" wilt verwijderen?"),A=j(),m=_("label"),m.textContent=O,G=j(),B=_("input"),u=j(),C=_("button"),P=F("Verwijder"),y=j(),D=_("button"),D.textContent=M,this.h()},l(z){t=v(z,"DIV",{class:!0});var N=S(t);e=v(N,"DIV",{class:!0});var c=S(e);s=v(c,"H2",{class:!0,"data-svelte-h":!0}),W(s)!=="svelte-5nzhtl"&&(s.textContent=T),d=I(c),a=v(c,"P",{class:!0});var p=S(a);V=J(p,"Weet je zeker dat je de speler "),k=J(p,g),E=J(p," wilt verwijderen?"),p.forEach(b),A=I(c),m=v(c,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(m)!=="svelte-1s6s2j7"&&(m.textContent=O),G=I(c),B=v(c,"INPUT",{type:!0,id:!0}),u=I(c),C=v(c,"BUTTON",{class:!0});var o=S(C);P=J(o,"Verwijder"),o.forEach(b),y=I(c),D=v(c,"BUTTON",{class:!0,"data-svelte-h":!0}),W(D)!=="svelte-1dda90p"&&(D.textContent=M),c.forEach(b),N.forEach(b),this.h()},h(){h(s,"class","svelte-ez387l"),h(a,"class","svelte-ez387l"),h(m,"for","delete-password"),h(m,"class","svelte-ez387l"),h(B,"type","password"),h(B,"id","delete-password"),h(C,"class","delete-button svelte-ez387l"),C.disabled=L=l[9]!=="admin",h(D,"class","cancel-button svelte-ez387l"),h(e,"class","popup svelte-ez387l"),h(t,"class","popup-overlay svelte-ez387l")},m(z,N){Y(z,t,N),n(t,e),n(e,s),n(e,d),n(e,a),n(a,V),n(a,k),n(a,E),n(e,A),n(e,m),n(e,G),n(e,B),Q(B,l[9]),n(e,u),n(e,C),n(C,P),n(e,y),n(e,D),q||(U=[K(B,"input",l[21]),K(C,"click",l[22]),K(D,"click",l[23])],q=!0)},p(z,N){N[0]&128&&g!==(g=z[7].name+"")&&Z(k,g),N[0]&512&&B.value!==z[9]&&Q(B,z[9]),N[0]&512&&L!==(L=z[9]!=="admin")&&(C.disabled=L)},d(z){z&&b(t),q=!1,le(U)}}}function ge(l){let t,e,s,T="Office Ping Pong Ranking",d,a,V,g='<tr><th class="svelte-ez387l">Rank</th> <th class="svelte-ez387l">Name</th> <th class="svelte-ez387l">Points</th> <th class="svelte-ez387l">Games Played</th> <th class="svelte-ez387l">Ranking Score</th> <th class="svelte-ez387l"><i class="fas fa-trash-alt"></i></th></tr>',k,E,A,m,O,G="Voeg nieuwe speler toe",B,u,C="Voeg nieuwe score toe",P,L,y,D,M,q,U=$(l[0].sort(l[12])),z=[];for(let o=0;o<U.length;o+=1)z[o]=fe(ue(l,U,o));let N=l[2]&&de(l),c=l[1]&&he(l),p=l[4]&&pe(l);return{c(){t=_("section"),e=_("div"),s=_("h1"),s.textContent=T,d=j(),a=_("table"),V=_("thead"),V.innerHTML=g,k=j(),E=_("tbody");for(let o=0;o<z.length;o+=1)z[o].c();A=j(),m=_("div"),O=_("button"),O.textContent=G,B=j(),u=_("button"),u.textContent=C,P=j(),N&&N.c(),L=j(),c&&c.c(),y=j(),p&&p.c(),D=ae(),this.h()},l(o){t=v(o,"SECTION",{});var w=S(t);e=v(w,"DIV",{class:!0});var r=S(e);s=v(r,"H1",{"data-svelte-h":!0}),W(s)!=="svelte-1iitwew"&&(s.textContent=T),d=I(r),a=v(r,"TABLE",{class:!0});var f=S(a);V=v(f,"THEAD",{"data-svelte-h":!0}),W(V)!=="svelte-7ok69c"&&(V.innerHTML=g),k=I(f),E=v(f,"TBODY",{});var H=S(E);for(let R=0;R<z.length;R+=1)z[R].l(H);H.forEach(b),f.forEach(b),A=I(r),m=v(r,"DIV",{class:!0});var i=S(m);O=v(i,"BUTTON",{class:!0,"data-svelte-h":!0}),W(O)!=="svelte-fjfsn8"&&(O.textContent=G),B=I(i),u=v(i,"BUTTON",{class:!0,"data-svelte-h":!0}),W(u)!=="svelte-1osykww"&&(u.textContent=C),i.forEach(b),r.forEach(b),w.forEach(b),P=I(o),N&&N.l(o),L=I(o),c&&c.l(o),y=I(o),p&&p.l(o),D=ae(),this.h()},h(){h(a,"class","svelte-ez387l"),h(O,"class","svelte-ez387l"),h(u,"class","svelte-ez387l"),h(m,"class","button-container svelte-ez387l"),h(e,"class","container svelte-ez387l")},m(o,w){Y(o,t,w),n(t,e),n(e,s),n(e,d),n(e,a),n(a,V),n(a,k),n(a,E);for(let r=0;r<z.length;r+=1)z[r]&&z[r].m(E,null);n(e,A),n(e,m),n(m,O),n(m,B),n(m,u),Y(o,P,w),N&&N.m(o,w),Y(o,L,w),c&&c.m(o,w),Y(o,y,w),p&&p.m(o,w),Y(o,D,w),M||(q=[K(O,"click",l[14]),K(u,"click",l[15])],M=!0)},p(o,w){if(w[0]&401){U=$(o[0].sort(o[12]));let r;for(r=0;r<U.length;r+=1){const f=ue(o,U,r);z[r]?z[r].p(f,w):(z[r]=fe(f),z[r].c(),z[r].m(E,null))}for(;r<z.length;r+=1)z[r].d(1);z.length=U.length}o[2]?N?N.p(o,w):(N=de(o),N.c(),N.m(L.parentNode,L)):N&&(N.d(1),N=null),o[1]?c?c.p(o,w):(c=he(o),c.c(),c.m(y.parentNode,y)):c&&(c.d(1),c=null),o[4]?p?p.p(o,w):(p=pe(o),p.c(),p.m(D.parentNode,D)):p&&(p.d(1),p=null)},i:ne,o:ne,d(o){o&&(b(t),b(P),b(L),b(y),b(D)),se(z,o),N&&N.d(o),c&&c.d(o),p&&p.d(o),M=!1,le(q)}}}function Ne(l,t,e){let s=[],T=!1,d=!1,a="",V=!1,g="",k="",E="",A="",m="";be(async()=>{const c=await fetch("/api/players");e(0,s=await c.json())});const O=async()=>{if(a)try{const c=await fetch("/api/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a})});if(!c.ok)throw new Error("Network response was not ok");const p=await c.json();e(0,s=[...s,p]),e(3,a=""),e(2,d=!1)}catch(c){console.error("Error adding new player:",c)}},G=async()=>{try{const c=await fetch(`/api/players/${A}`,{method:"DELETE"});if(!c.ok){const p=await c.json();throw new Error(`Network response was not ok: ${c.status} ${p.error||""}`)}e(0,s=s.filter(p=>p.id!==A)),e(4,V=!1)}catch(c){console.error("Error deleting player:",c),alert(`Failed to delete player: ${c.message}`)}},B=(c,p)=>(Math.ceil(p.points/p.numberOfGames)||0)-(Math.ceil(c.points/c.numberOfGames)||0),u=c=>{e(7,E=c),e(8,A=c.id),e(4,V=!0)},C=()=>e(2,d=!0),P=()=>e(1,T=!0);function L(){a=this.value,e(3,a)}const y=()=>e(2,d=!1);function D(){g=re(this),e(5,g),e(0,s)}function M(){k=re(this),e(6,k),e(0,s)}const q=()=>e(1,T=!1);function U(){m=this.value,e(9,m)}return[s,T,d,a,V,g,k,E,A,m,O,G,B,u,C,P,L,y,D,M,q,U,()=>G(E.id),()=>e(4,V=!1)]}class De extends Ce{constructor(t){super(),ke(this,t,Ne,ge,me,{},null,[-1,-1])}}export{De as component};
